<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/">
  <sitecore>
    <events>
      <event name="publish:end">
        <!-- Ergonet Sitecore Resources Manager-->
        <handler type="Ergonet.Sitecore.ResourceProvider.ResourceCache, Ergonet.Sitecore" method="ClearCache" patch:before="*[@type='Sitecore.Publishing.HtmlCacheClearer, Sitecore.Kernel']"/>
        <!-- Ergonet Sitecore Resources Manager FIN-->
        <!--<handler type="Familiprix.Web.Sitecore.Search.RebuildIndexAfterPublish, Familiprix.Web" method="RebuildParentIndex" />-->
      </event>
      <event name="publish:end:remote">
        <!-- Ergonet Sitecore Resources Manager-->
        <handler type="Ergonet.Sitecore.ResourceProvider.ResourceCache, Ergonet.Sitecore" method="ClearCache" patch:before="*[@type='Sitecore.Publishing.HtmlCacheClearer, Sitecore.Kernel']"/>
        <!-- Ergonet Sitecore Resources Manager FIN-->
        <handler type="Familiprix.Web.Sitecore.Search.RebuildIndexAfterPublish, Familiprix.Web" method="RebuildAllRemote">
          <indexes hint="list">
            <index>DrugFiles</index>
            <index>AtoZHealth</index>
            <index>AtoZBeauty</index>
            <index>GlobalSearch</index>
            <index>MedicationImages</index>
          </indexes>
        </handler>
      </event>
    </events>
    <pipelines>
      <httpRequestBegin>
        <!-- Ergonet thread language sync Start-->
        <!-- <processor type="Ergonet.Sitecore.Globalization.ThreadAndSitecoreLanguageSync, Ergonet.Sitecore" patch:after="*[@type='Sitecore.Pipelines.HttpRequest.LanguageResolver, Sitecore.Kernel']" /> -->
        <!-- Ergonet End-->
        <processor type="Familiprix.Web.Sitecore.Pipelines.HttpRequestBegin.CustomBranchUrlResolver, Familiprix.Web" patch:after="*[@type='Sitecore.Pipelines.HttpRequest.ItemResolver, Sitecore.Kernel']" />
        <!-- <processor type="Familiprix.Web.Sitecore.Pipelines.HttpRequestBegin.ExecuteRequest, Familiprix.Web" patch:instead="*[@type='Sitecore.Pipelines.HttpRequest.ExecuteRequest, Sitecore.Kernel']"/> -->
      </httpRequestBegin>
      <renderField>
        <processor type="Familiprix.Web.Sitecore.Pipelines.RenderField.GetLinkMediaFieldValue, Familiprix.Web" patch:after="*[@type='Sitecore.Pipelines.RenderField.GetLinkFieldValue, Sitecore.Kernel']"/>
        <processor type="Familiprix.Web.Sitecore.Pipelines.RenderField.GetCompositeImageValue, Familiprix.Web" patch:after="*[@type='Sitecore.Pipelines.RenderField.GetImageFieldValue, Sitecore.Kernel']"/>
      </renderField>
      <renderContentEditor>
        <processor type="Familiprix.Web.Sitecore.Pipelines.RenderContentEditor.SetEditorFormater, Familiprix.Web" patch:b="*[@type='Sitecore.Modules.EmailCampaign.Core.Pipelines.FilterEditorTabs, Sitecore.EmailCampaign']"/>
      </renderContentEditor>
    </pipelines>
    <sites>
      <site patch:before="*[@name='shell']" name="SLTShell" virtualFolder="/SLT/shell" physicalFolder="/SLT/shell" rootPath="/sitecore/content" startItem="/home" language="en" database="core" domain="sitecore" loginPage="/sitecore/login" content="master" contentStartItem="/Home" enableWorkflow="true" enableAnalytics="false" analyticsDefinitions="content" xmlControlPage="/sitecore/shell/default.aspx" browserTitle="Sitecore" htmlCacheSize="2MB" registryCacheSize="3MB" viewStateCacheSize="200KB" xslCacheSize="5MB" disableBrowserCaching="true" />
      <site name="website">
        <patch:attribute name="language">fr</patch:attribute>
        <patch:attribute name="loginPage">{7F1A3122-AD20-446B-81BA-AFC70A8305E5}</patch:attribute>
        <patch:attribute name="PatientFileLoginPage">{7F1A3122-AD20-446B-81BA-AFC70A8305E5}</patch:attribute>
        <patch:attribute name="FamiliplusLoginPage">{CA5D3749-D140-4AB2-AE17-13B93F22F0F6}</patch:attribute>
      </site>
    </sites>
    <settings>
      <setting name="ItemNameValidation">
        <patch:attribute name="value">
          <![CDATA[^[\w\*\$][\w\s\-\.\$]*(\(\d{1,}\)){0,1}$]]>
        </patch:attribute>
      </setting>
      <setting name="Indexing.ServerSpecificProperties" >
        <patch:attribute name="value">true</patch:attribute>
      </setting>
      <setting name="Media.DefaultImageBackgroundColor">
        <patch:attribute name="value">#FFFFFF</patch:attribute>
      </setting>

      <setting name="IgnoreUrlPrefixes">
        <patch:attribute name="value">/sitecore/default.aspx|/trace.axd|/webresource.axd|/sitecore/shell/Controls/Rich Text Editor/Telerik.Web.UI.DialogHandler.aspx|/sitecore/shell/applications/content manager/telerik.web.ui.dialoghandler.aspx|/sitecore/shell/Controls/Rich Text Editor/Telerik.Web.UI.SpellCheckHandler.axd|/Telerik.Web.UI.WebResource.axd|/sitecore/admin/upgrade/|/layouts/testing|/ImageHandler.aspx|/CaptchaImage.aspx|/monprofilsante|/myhealthprofile|/renouvellement|/renewal</patch:attribute>
      </setting>
      <setting name="LinkItemNotFoundUrl">
        <patch:attribute name="value">/404</patch:attribute>
      </setting>
      <setting name="ItemNotFoundUrl">
        <patch:attribute name="value">/404</patch:attribute>
      </setting>
      <setting name="LayoutNotFoundUrl">
        <patch:attribute name="value">/404</patch:attribute>
      </setting>

      <setting name="LanguageFieldName">
        <patch:attribute name="value">Language</patch:attribute>
      </setting>
    </settings>
    <mediaLibrary>
      <mediaPrefixes>
        <prefix value="/~/media"/>
        <prefix value="~/media"/>
      </mediaPrefixes>
    </mediaLibrary>
    
    <linkManager defaultProvider="sitecore">
      <providers>
        <add name="sitecore">
          <patch:attribute name="useDisplayName">true</patch:attribute>
          <patch:attribute name="addAspxExtension">false</patch:attribute>
          <patch:attribute name="languageEmbedding">always</patch:attribute>
        </add>
      </providers>
    </linkManager>
    <search>
      <configuration>
        <indexes>
          <!-- Drug files -->
          <index id="DrugFiles" type="Sitecore.Search.Index, Sitecore.Kernel">
            <param desc="name">$(id)</param>
            <param desc="folder">__DrugFiles</param>
            <Analyzer type="Familiprix.Web.Lucene.CustomAnalyzer, Familiprix.Web" />
            <locations hint="list:AddCrawler">
              <drugs type="scSearchContrib.Crawler.Crawlers.AdvancedDatabaseCrawler,Sitecore.SharedSource.Crawler">
                <Database>web</Database>
                <Root>/sitecore/content/Home/PharmacyZone/Health/DrugFiles</Root>
                <IndexAllFields>true</IndexAllFields>
                <ExcludeSystemFields>true</ExcludeSystemFields>
                
                <include hint="list:IncludeTemplate">
                  <application>{E02C0BFB-C009-4D70-8FF4-F0551D44C82B}</application>
                </include>

                <dynamicFields hint="raw:AddDynamicFields">
                  <dynamicField type="Familiprix.Web.Sitecore.Search.DynamicField.PlainField, Familiprix.Web" name="TitleUnTokenized" scFieldName="Title" storageType="NO" indexType="UN_TOKENIZED" vectorType="NO" boost="1f" lowerCaseContent="true" removeAccents="true" />
                  <dynamicField type="Familiprix.Web.Sitecore.Search.DynamicField.PlainField, Familiprix.Web" name="DINsSpaceSeparated" scFieldName="DINs" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                </dynamicFields>

                <!-- If a field type is not defined, defaults of storageType="NO", indexType="UN_TOKENIZED" vectorType="NO" boost="1f" are applied-->
                <fieldTypes hint="raw:AddFieldTypes">
                  <!-- Text fields need to be tokenized -->
                  <fieldType name="single-line text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="multi-line text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="html" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="rich text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                </fieldTypes>
                
                <Tags>content</Tags>
              </drugs>
            </locations>
          </index>
          <!--Search A to Z in the health section (master + web) -->
          <index id="AtoZHealth" type="Sitecore.Search.Index, Sitecore.Kernel">
            <param desc="name">$(id)</param>
            <param desc="folder">__AtoZHealth</param>
            <Analyzer type="Familiprix.Web.Lucene.CustomAnalyzer, Familiprix.Web" />
            <locations hint="list:AddCrawler">
              <health type="scSearchContrib.Crawler.Crawlers.AdvancedDatabaseCrawler,Sitecore.SharedSource.Crawler">
                <Database>web</Database>
                <Root>/sitecore/content/Home/PharmacyZone/health</Root>
                <IndexAllFields>true</IndexAllFields>
                <ExcludeSystemFields>true</ExcludeSystemFields>
                
                <include hint="list:IncludeTemplate">
                  <application>{9F535385-8A6A-41E1-8D91-78EEBC734AE9}</application>
                  <application>{F626B7DB-FFE2-48C8-9656-3FF7B1B95A4B}</application>
                  <application>{3CD8E670-2134-4401-B4AC-502A28C84B74}</application>
                  <application>{1BCB57DB-670E-44CC-A10E-4E26A279382A}</application>
                  <application>{A53FD51C-B4B0-42D0-9FE3-2BDA5EA73C0D}</application>
                  <application>{5C15F648-2D59-43EB-AA36-0F4D4F24B614}</application>
                  <application>{47A16AA4-EFC4-46C4-A7C2-40298BBF68F7}</application>
                  <application>{25C9F6EC-58E8-4A77-84D4-A29D2B4CCA0E}</application>
                </include>
                <dynamicFields hint="raw:AddDynamicFields">
                  <dynamicField type="Familiprix.Web.Sitecore.Search.DynamicField.PlainField, Familiprix.Web" name="TitleUnTokenized" scFieldName="Title" storageType="NO" indexType="UN_TOKENIZED" vectorType="NO" boost="1f" lowerCaseContent="true" removeAccents="true" />
                </dynamicFields>

                <!-- If a field type is not defined, defaults of storageType="NO", indexType="UN_TOKENIZED" vectorType="NO" boost="1f" are applied-->
                <fieldTypes hint="raw:AddFieldTypes">
                  <!-- Text fields need to be tokenized -->
                  <fieldType name="single-line text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="multi-line text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="html" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="rich text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                </fieldTypes>
                
                <Tags>content</Tags>
              </health>
            </locations>
          </index>
          <!--Search A to Z in the beauty section + PSST (master + web) -->
          <index id="AtoZBeauty" type="Sitecore.Search.Index, Sitecore.Kernel">
            <param desc="name">$(id)</param>
            <param desc="folder">__AtoZBeauty</param>
            <Analyzer type="Familiprix.Web.Lucene.CustomAnalyzer, Familiprix.Web" />
            <locations hint="list:AddCrawler">
              <health type="scSearchContrib.Crawler.Crawlers.AdvancedDatabaseCrawler,Sitecore.SharedSource.Crawler">
                <Database>web</Database>
                <Root>/sitecore/content/Home/PharmacyZone/health</Root>
                <IndexAllFields>true</IndexAllFields>
                <ExcludeSystemFields>true</ExcludeSystemFields>
                
                <include hint="list:IncludeTemplate">
                  <application>{A53FD51C-B4B0-42D0-9FE3-2BDA5EA73C0D}</application>
                </include>
                <Tags>content</Tags>
              </health>
              <beauty type="scSearchContrib.Crawler.Crawlers.AdvancedDatabaseCrawler,Sitecore.SharedSource.Crawler">
                <Database>web</Database>
                <Root>/sitecore/content/Home/beauty</Root>
                <IndexAllFields>true</IndexAllFields>
                <ExcludeSystemFields>true</ExcludeSystemFields>
                
                <include hint="list:IncludeTemplate">
                  <application>{9F535385-8A6A-41E1-8D91-78EEBC734AE9}</application>
                  <application>{F626B7DB-FFE2-48C8-9656-3FF7B1B95A4B}</application>
                  <application>{3CD8E670-2134-4401-B4AC-502A28C84B74}</application>
                  <application>{1BCB57DB-670E-44CC-A10E-4E26A279382A}</application>
                  <application>{A53FD51C-B4B0-42D0-9FE3-2BDA5EA73C0D}</application>
                  <application>{5C15F648-2D59-43EB-AA36-0F4D4F24B614}</application>
                  <application>{47A16AA4-EFC4-46C4-A7C2-40298BBF68F7}</application>
                  <application>{25C9F6EC-58E8-4A77-84D4-A29D2B4CCA0E}</application>
                </include>
                <dynamicFields hint="raw:AddDynamicFields">
                  <dynamicField type="Familiprix.Web.Sitecore.Search.DynamicField.PlainField, Familiprix.Web" name="TitleUnTokenized" scFieldName="Title" storageType="NO" indexType="UN_TOKENIZED" vectorType="NO" boost="1f" lowerCaseContent="true" removeAccents="true" />
                </dynamicFields>

                <!-- If a field type is not defined, defaults of storageType="NO", indexType="UN_TOKENIZED" vectorType="NO" boost="1f" are applied-->
                <fieldTypes hint="raw:AddFieldTypes">
                  <!-- Text fields need to be tokenized -->
                  <fieldType name="single-line text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="multi-line text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="html" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="rich text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                </fieldTypes>
                
                <Tags>content</Tags>
              </beauty>
            </locations>
          </index>
            <!--Search the entire site (master + web) -->
          <index id="GlobalSearch" type="Sitecore.Search.Index, Sitecore.Kernel">
            <param desc="name">$(id)</param>
            <param desc="folder">__GlobalSearch</param>
            <Analyzer type="Familiprix.Web.Lucene.CustomAnalyzer, Familiprix.Web" />
            <locations hint="list:AddCrawler">
              <global type="scSearchContrib.Crawler.Crawlers.AdvancedDatabaseCrawler,Sitecore.SharedSource.Crawler">
                <Database>web</Database>
                <Root>/sitecore/content/Home</Root>
                <IndexAllFields>true</IndexAllFields>
                <ExcludeSystemFields>true</ExcludeSystemFields>
                
                <include hint="list:IncludeTemplate">
                  <application>{BBC79124-8750-4D43-9425-81A4D395136B}</application>
                  <application>{0903EF83-D202-4D61-AE43-66EB588EF6BA}</application>
                  <application>{132A398A-BCB8-4D4B-8809-E1BC1627E757}</application>
                  <application>{B65DB38F-042A-4ED5-BAD2-75BE1D07EF71}</application>
                  <application>{A6B812D7-FB7F-458B-9B3F-8930B6792FD6}</application>
                  <application>{B813E137-A179-4779-AC1A-CE384786F434}</application>
                  <application>{9F535385-8A6A-41E1-8D91-78EEBC734AE9}</application>
                  <application>{495E4DEC-CDA5-4C50-898D-338152B5DB54}</application>
                  <application>{F626B7DB-FFE2-48C8-9656-3FF7B1B95A4B}</application>
                  <application>{039BDF24-A3FA-44D0-9D15-E0B8AF831041}</application>
                  <application>{82FC3B36-02A9-4259-B401-643E2FF1C74D}</application>
                  <application>{F5BFADCA-A308-4F98-9C72-D51D1223CBBC}</application>
                  <application>{DCCF3816-E074-4A89-A85A-24748DB81DDA}</application>
                  <application>{1B619794-9EFC-4F0A-8D94-8D63E92B73AA}</application>
                  <application>{674B5325-F15A-4E1C-ABCB-93D1A77C5179}</application>
                  <application>{7C4C547A-F4DA-48B9-B586-4F5EDC21FB98}</application>
                  <application>{740B7DB9-EDFA-4702-A10D-F24B05191B79}</application>
                  <application>{182F3B73-FBBB-4AAB-98DF-932B93EA1CE9}</application>
                  <application>{98A8B3CB-E0BC-4AD0-8253-D962392317A6}</application>
                  <application>{11D7C88B-69CF-42C9-B47C-6D31442D9403}</application>
                  <application>{E02C0BFB-C009-4D70-8FF4-F0551D44C82B}</application>
                  <application>{358D4704-1FEB-499A-A3CF-ED97B1FA11E4}</application>
                  <application>{A8FB90F3-D8F2-4B14-B8E7-24220BF84DF0}</application>
                  <application>{D4A78073-D7F8-4613-B473-95FFBE94C51D}</application>
                  <application>{A2E93514-0EAB-413F-85FF-2E936109B97E}</application>
                  <application>{50B07D57-2C6D-43E1-AEF5-F07C79891EB5}</application>
                  <application>{DDE45D63-224C-483C-9426-6F3DCC697725}</application>
                  <application>{B85EB137-EB38-47EB-B682-3D15D26C4CFC}</application>
                  <application>{3FC34525-6B88-4E76-84DD-EE85BA132EE9}</application>
                  <application>{8FB55A81-9680-4051-A271-0D5FC74D8D8B}</application>
                  <application>{BADC554A-5F5A-44B4-B4BD-15695F80D3A8}</application>
                  <application>{D075FBB2-868C-44C1-86BF-E14F0ED658B6}</application>
                  <application>{05731149-B44A-4112-A0F2-C53E27F2FBEA}</application>
                  <application>{52992286-A011-4032-BBA0-0CCCD44FADC5}</application>
                  <application>{3CD8E670-2134-4401-B4AC-502A28C84B74}</application>
                  <application>{F42A1386-3D21-4F69-8B13-D102262B79BD}</application>
                  <application>{87B28ACB-7E39-45AA-AC46-D72B70BBCED6}</application>
                  <application>{1BCB57DB-670E-44CC-A10E-4E26A279382A}</application>
                  <application>{2C290622-49B0-48F7-8950-8E53130F6452}</application>
                  <application>{0599C31C-FC88-4C3F-A2AA-7ADC98305977}</application>
                  <application>{42FF14A0-F8E9-42FE-9D31-FC99B6A6201E}</application>
                  <application>{8A34A2E7-FE8A-4C8D-8988-20B616D84FE7}</application>
                  <application>{14AA3B3A-21C1-49D9-A28C-3944ADAE24FA}</application>
                  <application>{27B6D074-2F8A-4D15-8263-2C4D8C0AE065}</application>
                  <application>{9CB24BF0-E189-4FD6-808F-C9F31E9E7CA7}</application>
                  <application>{24ADBFCB-57B4-43FF-8160-11BCA14C5038}</application>
                  <application>{A31272D6-661E-4D41-9776-29F4C58BD269}</application>
                  <application>{A53FD51C-B4B0-42D0-9FE3-2BDA5EA73C0D}</application>
                  <application>{DC98F43E-158B-4989-8FF8-4C7CB2DC8E13}</application>
                  <application>{761491FA-4B8A-44B9-81E7-4A0A56383332}</application>
                  <application>{5C15F648-2D59-43EB-AA36-0F4D4F24B614}</application>
                  <application>{47A16AA4-EFC4-46C4-A7C2-40298BBF68F7}</application>
                  <application>{1720F52D-1325-44B7-8C41-7D5C27667A1B}</application>
                  <application>{25C9F6EC-58E8-4A77-84D4-A29D2B4CCA0E}</application>
                  <application>{4E0A8FB5-B0AF-49FC-9293-E1E5A273E45A}</application>
                  <application>{720B5AB2-2462-435D-820D-FBDFD219F7DF}</application>
                  <application>{6DCFEF8F-8C09-4955-AC6D-466B7B47F4EB}</application>
                </include>

                <dynamicFields hint="raw:AddDynamicFields">
                  <dynamicField type="Familiprix.Web.Sitecore.Search.DynamicField.PlainField, Familiprix.Web" name="TitleUnTokenized" scFieldName="Title" storageType="NO" indexType="UN_TOKENIZED" vectorType="NO" boost="1f" lowerCaseContent="true" removeAccents="true" />
                  <dynamicField type="Familiprix.Web.Sitecore.Search.DynamicField.ChildComponentField, Familiprix.Web" name="IncludedChildrenContent" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                </dynamicFields>

                <!-- If a field type is not defined, defaults of storageType="NO", indexType="UN_TOKENIZED" vectorType="NO" boost="1f" are applied-->
                <fieldTypes hint="raw:AddFieldTypes">
                  <!-- Text fields need to be tokenized -->
                  <fieldType name="single-line text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="multi-line text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="html" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="rich text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                  <fieldType name="text" storageType="NO" indexType="TOKENIZED" vectorType="NO" boost="1f" />
                </fieldTypes>
              </global>
            </locations>
          </index>
          <!-- Medication Images -->
          <index id="MedicationImages" type="Sitecore.Search.Index, Sitecore.Kernel">
            <param desc="name">$(id)</param>
            <param desc="folder">__MedicationImages</param>
            <Analyzer type="Familiprix.Web.Lucene.CustomAnalyzer, Familiprix.Web" />
            <locations hint="list:AddCrawler">
              <meds type="scSearchContrib.Crawler.Crawlers.AdvancedDatabaseCrawler,Sitecore.SharedSource.Crawler">
                <Database>web</Database>
                <Root>/sitecore/media library/MedicationImages</Root>
                <IndexAllFields>false</IndexAllFields>
                <ExcludeSystemFields>true</ExcludeSystemFields>

                <include hint="list:IncludeTemplate">
                  <application>{F1828A2C-7E5D-4BBD-98CA-320474871548}</application><!--Image-->
                  <application>{DAF085E8-602E-43A6-8299-038FF171349F}</application><!--Jpeg-->
                </include>

                <Tags>content</Tags>
              </meds>
            </locations>
          </index>
        </indexes>
      </configuration>
    </search>
    <databases>
      <database id="master">
        <Engines.HistoryEngine.Storage>
          <obj type="Sitecore.Data.$(database).$(database)HistoryStorage, Sitecore.Kernel">
            <param connectionStringName="$(id)" />
            <EntryLifeTime>30.00:00:00</EntryLifeTime>
          </obj>
        </Engines.HistoryEngine.Storage>
        <Engines.HistoryEngine.SaveDotNetCallStack>false</Engines.HistoryEngine.SaveDotNetCallStack>
      </database>
      <database id="web">
        <Engines.HistoryEngine.Storage>
          <obj type="Sitecore.Data.$(database).$(database)HistoryStorage, Sitecore.Kernel">
            <param connectionStringName="$(id)" />
            <EntryLifeTime>30.00:00:00</EntryLifeTime>
          </obj>
        </Engines.HistoryEngine.Storage>
        <Engines.HistoryEngine.SaveDotNetCallStack>false</Engines.HistoryEngine.SaveDotNetCallStack>
      </database>
    </databases>
  </sitecore>
</configuration>